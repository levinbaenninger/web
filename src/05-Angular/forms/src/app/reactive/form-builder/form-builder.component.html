<h1>Reactive with formbuilder</h1>
<form [formGroup]="formBuilderForm" (ngSubmit)="onSubmit()">
  <div formGroupName="userData">
    <div class="form-group">
      <label for="username">Username</label
      ><input
        type="text"
        class="form-control"
        id="username"
        formControlName="username"
      />
      <span
        *ngIf="
          formBuilderForm.get(['userData', 'username'])?.invalid &&
          formBuilderForm.get(['userData', 'username'])?.touched
        "
        class="small text-danger"
        >Username is required</span
      >
    </div>
    <div class="form-group">
      <label for="email">E-Mail</label
      ><input
        type="text"
        class="form-control"
        id="email"
        formControlName="email"
      />
      <span
        *ngIf="
          formBuilderForm.get(['userData', 'email'])?.touched &&
          formBuilderForm.get(['userData', 'email'])?.invalid
        "
        class="small text-danger"
        >E-Mail is required</span
      >
    </div>
  </div>
  <div class="form-group">
    <label for="password">Password</label
    ><input
      type="password"
      class="form-control"
      id="password"
      formControlName="password"
    />
    <span
      *ngIf="
        formBuilderForm.get('password')?.invalid &&
        formBuilderForm.get('password')?.touched
      "
      class="small text-danger"
      >Password is required</span
    >
  </div>
  <div formArrayName="hobbies" class="mt-3">
    <h3>Hobbies</h3>
    <div
      class="form-group mt-2"
      *ngFor="let hobby of hobbies.controls; let i = index"
    >
      <input type="text" class="form-control" [formControlName]="i" />
    </div>
  </div>

  <button
    type="button"
    class="btn btn-secondary mt-3 me-3"
    (click)="addHobby()"
  >
    Neues Hobby
  </button>
  <button
    type="submit"
    class="btn btn-primary mt-3"
    [disabled]="!formBuilderForm.valid"
  >
    Submit
  </button>
</form>
